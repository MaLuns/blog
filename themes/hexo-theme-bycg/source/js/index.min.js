!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=0)}([function(t,e,n){n(1),n(2)},function(t,e){$(function(){$(window).scroll(function(){var t=document.body.scrollHeight||document.documentElement.scrollHeight,e=$(this).height()+100,o=document.body.scrollTop||document.documentElement.scrollTop;o+e>t&&n.LoadMore(),o>500?$("#back-top").addClass("show"):$("#back-top").removeClass("show")}),n.LoadHeaderBg(),n.LoadVideo(),n.BackTop()});var n={bgvideo:$("#bgvideo"),LoadMore:function(){window.IndexConfig&&!IndexConfig.loadMore&&IndexConfig.current<IndexConfig.total&&(IndexConfig.loadMore=!0,$("#loader").addClass("loading").removeClass("loaded"),$.ajax({url:IndexConfig.url+"page/"+ ++IndexConfig.current,success:function(t){var e=$(t).find("article");$("#posts").append(e.fadeIn(5e3))},error:function(){--IndexConfig.current},complete:function(){IndexConfig.loadMore=!1,$("#loader").addClass("loaded").removeClass("loading")}}))},SPlay:function(){n.bgvideo[0].play(),n.bgvideo.css({background:"#000"}),$(".video-msg").css({bottom:"-80px"}),$("#user-center").css({top:"-300px"})},Spause:function(){n.bgvideo[0].pause(),$(".video-msg").html("\u5df2\u6682\u505c").css({bottom:"0px"}),$("#user-center").css({top:"30%"})},AddSource:function(){$(".video-msg").html("\u6b63\u5728\u8f7d\u5165\u89c6\u9891 ...").css({bottom:"0px"});var t=IndexConfig.videoUrl,e=t[Math.floor(Math.random()*t.length)];n.bgvideo.attr("src",e),n.bgvideo.attr("video-name",e)},LoadVideo:function(){$("#video-btn").on("click",function(){$(this).hasClass("loadvideo")?($(this).removeClass("loadvideo").removeClass("cg-bofang").addClass("cg-zanting").hide(),n.AddSource(),n.bgvideo[0].oncanplay=function(){$("#video-btn").show(),n.SPlay()}):$(this).hasClass("cg-zanting")?(n.Spause(),$(this).removeClass("cg-zanting").addClass("cg-bofang")):(n.SPlay(),$(this).removeClass("cg-bofang").addClass("cg-zanting")),n.bgvideo[0].onended=function(){n.bgvideo.attr("src","")}})},LoadHeaderBg:function(){if(window.IndexConfig){var t=IndexConfig.headerbg,e=t[Math.floor(Math.random()*t.length)];$("header.header").css({"background-image":"url(".concat(e,")")})}},BackTop:function(){$("#back-top").on("click",function(){window.scrollTo({top:0,behavior:"smooth"})})}}},function(t,e){function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach(function(e){i(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var c=function(){function t(e){var n=e.origin,i=e.speed,a=e.color,s=e.angle,c=e.context;r(this,t),this.origin=n,this.position=o({},n),this.color=a,this.speed=i,this.angle=s,this.context=c,this.renderCount=0}return s(t,[{key:"draw",value:function(){this.context.fillStyle=this.color,this.context.beginPath(),this.context.arc(this.position.x,this.position.y,2,0,2*Math.PI),this.context.fill()}},{key:"move",value:function(){this.position.x=Math.sin(this.angle)*this.speed+this.position.x,this.position.y=Math.cos(this.angle)*this.speed+this.position.y+.3*this.renderCount,this.renderCount++}}]),t}(),h=function(){function t(e){var n=e.origin,o=e.context,i=e.circleCount,a=void 0===i?10:i,s=e.area;r(this,t),this.origin=n,this.context=o,this.circleCount=a,this.area=s,this.stop=!1,this.circles=[]}return s(t,[{key:"randomArray",value:function(t){var e=t.length;return t[Math.floor(e*Math.random())]}},{key:"randomColor",value:function(){var t=["8","9","A","B","C","D","E","F"];return"#"+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)}},{key:"randomRange",value:function(t,e){return(e-t)*Math.random()+t}},{key:"init",value:function(){for(var t=0;t<this.circleCount;t++){var e=new c({context:this.context,origin:this.origin,color:this.randomColor(),angle:this.randomRange(Math.PI-1,Math.PI+1),speed:this.randomRange(1,6)});this.circles.push(e)}}},{key:"move",value:function(){var t=this;this.circles.forEach(function(e,n){if(e.position.x>t.area.width||e.position.y>t.area.height)return t.circles.splice(n,1);e.move()}),0==this.circles.length&&(this.stop=!0)}},{key:"draw",value:function(){this.circles.forEach(function(t){return t.draw()})}}]),t}();(new(function(){function t(){r(this,t),this.computerCanvas=document.createElement("canvas"),this.renderCanvas=document.createElement("canvas"),this.computerContext=this.computerCanvas.getContext("2d"),this.renderContext=this.renderCanvas.getContext("2d"),this.globalWidth=window.innerWidth,this.globalHeight=window.innerHeight,this.booms=[],this.running=!1}return s(t,[{key:"handleMouseDown",value:function(t){var e=new h({origin:{x:t.clientX,y:t.clientY},context:this.computerContext,area:{width:this.globalWidth,height:this.globalHeight}});e.init(),this.booms.push(e),this.running||this.run()}},{key:"handlePageHide",value:function(){this.booms=[],this.running=!1}},{key:"init",value:function(){var t=this.renderCanvas.style;t.position="fixed",t.top=t.left=0,t.zIndex="999999999999999999999999999999999999999999",t.pointerEvents="none",t.width=this.renderCanvas.width=this.computerCanvas.width=this.globalWidth,t.height=this.renderCanvas.height=this.computerCanvas.height=this.globalHeight,document.body.append(this.renderCanvas),window.addEventListener("mousedown",this.handleMouseDown.bind(this)),window.addEventListener("pagehide",this.handlePageHide.bind(this))}},{key:"run",value:function(){var t=this;if(this.running=!0,0==this.booms.length)return this.running=!1;requestAnimationFrame(this.run.bind(this)),this.computerContext.clearRect(0,0,this.globalWidth,this.globalHeight),this.renderContext.clearRect(0,0,this.globalWidth,this.globalHeight),this.booms.forEach(function(e,n){if(e.stop)return t.booms.splice(n,1);e.move(),e.draw()}),this.renderContext.drawImage(this.computerCanvas,0,0,this.globalWidth,this.globalHeight)}}]),t}())).init()}]);
//# sourceMappingURL=index.min.js.map