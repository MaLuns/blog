!function(o){function e(t){if(n[t])return n[t].exports;var d=n[t]={i:t,l:!1,exports:{}};return o[t].call(d.exports,d,d.exports,e),d.l=!0,d.exports}var n={};e.m=o,e.c=n,e.d=function(o,n,t){e.o(o,n)||Object.defineProperty(o,n,{configurable:!1,enumerable:!0,get:t})},e.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(n,"a",n),n},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p="/",e(e.s=0)}([function(o,e,n){"use strict";$(function(){$(window).scroll(function(){var o=document.body.scrollHeight||document.documentElement.scrollHeight,e=$(this).height()+100,n=document.body.scrollTop||document.documentElement.scrollTop;console.log(Math.round(n/(o-e)*100)),console.log(n,e,o),n+e>o&&t.LoadMore()}),t.LoadHeaderBg(),t.LoadVideo()});var t={bgvideo:$("#bgvideo"),LoadMore:function(){window.IndexConfig&&!IndexConfig.loadMore&&IndexConfig.current<IndexConfig.total&&(IndexConfig.loadMore=!0,$("#loader").addClass("loading").removeClass("loaded"),$.ajax({url:IndexConfig.url+"page/"+ ++IndexConfig.current,success:function(o){var e=$(o).find("article");$("#posts").append(e.fadeIn(5e3))},error:function(){--IndexConfig.current},complete:function(){IndexConfig.loadMore=!1,$("#loader").addClass("loaded").removeClass("loading")}}))},SPlay:function(){t.bgvideo[0].play(),$(".video-msg").css({bottom:"-80px"}),$("#user-center").css({top:"-300px"})},Spause:function(){t.bgvideo[0].pause(),$(".video-msg").html("\u5df2\u6682\u505c").css({bottom:"0px"}),$("#user-center").css({top:"30%"})},AddSource:function(){$(".video-msg").html("\u6b63\u5728\u8f7d\u5165\u89c6\u9891 ...").css({bottom:"0px"});var o=IndexConfig.videoUrl,e=o[Math.floor(Math.random()*o.length)];t.bgvideo.attr("src",e),t.bgvideo.attr("video-name",e)},LoadVideo:function(){$("#video-btn").on("click",function(){$(this).hasClass("loadvideo")?($(this).removeClass("loadvideo").removeClass("cg-bofang").addClass("cg-zanting").hide(),t.AddSource(),t.bgvideo[0].oncanplay=function(){$("#video-btn").show(),t.SPlay()}):$(this).hasClass("cg-zanting")?(t.Spause(),$(this).removeClass("cg-zanting").addClass("cg-bofang")):(t.SPlay(),$(this).removeClass("cg-bofang").addClass("cg-zanting")),t.bgvideo[0].onended=function(){t.bgvideo.attr("src","")}})},LoadHeaderBg:function(){if(window.IndexConfig){var o=IndexConfig.headerbg,e=o[Math.floor(Math.random()*o.length)];$("header.header").css({"background-image":"url("+e+")"})}}}}]);
//# sourceMappingURL=index.min.js.map