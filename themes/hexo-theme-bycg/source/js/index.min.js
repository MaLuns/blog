!function(o){function n(t){if(e[t])return e[t].exports;var d=e[t]={i:t,l:!1,exports:{}};return o[t].call(d.exports,d,d.exports,n),d.l=!0,d.exports}var e={};n.m=o,n.c=e,n.d=function(o,e,t){n.o(o,e)||Object.defineProperty(o,e,{configurable:!1,enumerable:!0,get:t})},n.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(e,"a",e),e},n.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},n.p="/",n(n.s=0)}([function(o,n,e){"use strict";$(function(){$(window).scroll(function(){var o=document.body.scrollHeight||document.documentElement.scrollHeight,n=$(this).height()+100,e=document.body.scrollTop||document.documentElement.scrollTop;console.log(Math.round(e/(o-n)*100)),console.log(e,n,o),e+n>o&&t.LoadMore()})});var t={bgvideo:$("#bgvideo"),LoadMore:function(){window.IndexConfig&&!IndexConfig.loadMore&&IndexConfig.current<IndexConfig.total&&(IndexConfig.loadMore=!0,$("#loader").addClass("loading").removeClass("loaded"),$.ajax({url:IndexConfig.url+"page/"+ ++IndexConfig.current,success:function(o){var n=$(o).find("article");$("#posts").append(n.fadeIn(5e3))},error:function(){--IndexConfig.current},complete:function(){IndexConfig.loadMore=!1,$("#loader").addClass("loaded").removeClass("loading")}}))},SPlay:function(){t.bgvideo[0].play()},Spause:function(){t.bgvideo[0].pause()},AddSource:function(){$(".video-stu").html("\u6b63\u5728\u8f7d\u5165\u89c6\u9891 ...").css({bottom:"0px"});var o=IndexConfig.videoUrl,n=o[Math.floor(Math.random()*o.length)];t.bgvideo.attr("src",n),t.bgvideo.attr("video-name",n)},LoadVideo:function(){$("#video-btn").on("click",function(){$(this).hasClass("loadvideo")?($(this).removeClass("loadvideo").removeClass("cg-bofang").addClass("cg-zanting").hide(),t.AddSource(),t.bgvideo[0].oncanplay=function(){$("#video-btn").show(),t.SPlay()}):$(this).hasClass("cg-zanting")?(t.Spause(),$(this).removeClass("cg-zanting").addClass("cg-bofang")):(t.SPlay(),$(this).removeClass("cg-bofang").addClass("cg-zanting")),t.bgvideo[0].onended=function(){}})}};t.LoadVideo()}]);
//# sourceMappingURL=index.min.js.map