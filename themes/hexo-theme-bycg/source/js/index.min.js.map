{"version":3,"sources":["webpack:///index.min.js","webpack:///webpack/bootstrap e676b04c0ff01c0eee6d","webpack:///./src/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","$","window","scroll","htmlHeight","document","body","scrollHeight","documentElement","clientHeight","this","height","scrollTop","console","log","Math","round","APPX","LoadMore","bgvideo","IndexConfig","loadMore","current","total","addClass","removeClass","ajax","url","success","res","result","find","append","fadeIn","error","complete","SPlay","play","css","Spause","pause","html","AddSource","t","videoUrl","_t","floor","random","length","attr","LoadVideo","on","hasClass","hide","oncanplay","show","onended"],"mappings":"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","file":"index.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* require(\"./utils\"); *//* require(\"./pjax\"); *//* require(\"./scrollspy\");\r\nrequire(\"./loaded\")(); */$(function(){/* var vConsole = new VConsole(); *///下拉自动刷新\n$(window).scroll(function(){//下面这句主要是获取网页的总高度，主要是考虑兼容性所以把Ie支持的documentElement也写了，这个方法至少支持IE8\nvar htmlHeight=document.body.scrollHeight||document.documentElement.scrollHeight;//clientHeight是网页在浏览器中的可视高度，\nvar clientHeight=$(this).height()+100;//scrollTop是浏览器滚动条的top位置，\nvar scrollTop=document.body.scrollTop||document.documentElement.scrollTop;//如果滚动条高度加上窗口可视高度大于网页高度\nconsole.log(Math.round(scrollTop/(htmlHeight-clientHeight)*100));console.log(scrollTop,clientHeight,htmlHeight);if(scrollTop+clientHeight>htmlHeight){APPX.LoadMore();}});});var APPX={bgvideo:$(\"#bgvideo\"),LoadMore:function LoadMore(){if(!!window.IndexConfig&&!IndexConfig.loadMore&&IndexConfig.current<IndexConfig.total){IndexConfig.loadMore=true;$(\"#loader\").addClass('loading').removeClass('loaded');$.ajax({url:IndexConfig.url+'page/'+ ++IndexConfig.current,success:function success(res){var result=$(res).find(\"article\");$(\"#posts\").append(result.fadeIn(5000));},error:function error(){--IndexConfig.current;},complete:function complete(){IndexConfig.loadMore=false;$(\"#loader\").addClass('loaded').removeClass('loading');}});}},SPlay:function SPlay(){APPX.bgvideo[0].play();$('.video-msg').css({\"bottom\":\"-80px\"});$('#user-center').css({\"top\":\"-300px\"});},Spause:function Spause(){APPX.bgvideo[0].pause();$('.video-msg').html('已暂停').css({\"bottom\":\"0px\"});$('#user-center').css({\"top\":\"30%\"});},AddSource:function AddSource(){$('.video-msg').html('正在载入视频 ...').css({\"bottom\":\"0px\"});var t=IndexConfig.videoUrl,// 视频列表\n_t=t[Math.floor(Math.random()*t.length)];// 随机抽取视频\nAPPX.bgvideo.attr('src',_t);APPX.bgvideo.attr('video-name',_t);},LoadVideo:function LoadVideo(){$('#video-btn').on('click',function(){if($(this).hasClass('loadvideo')){$(this).removeClass('loadvideo').removeClass('cg-bofang').addClass('cg-zanting').hide();APPX.AddSource();APPX.bgvideo[0].oncanplay=function(){// 数据可用时\n$('#video-btn').show();APPX.SPlay();};}else{if($(this).hasClass('cg-zanting')){APPX.Spause();$(this).removeClass('cg-zanting').addClass('cg-bofang');}else{APPX.SPlay();$(this).removeClass('cg-bofang').addClass('cg-zanting');}}APPX.bgvideo[0].onended=function(){// 播放结束后\nAPPX.bgvideo.attr('src','');};});}};APPX.LoadVideo();\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e676b04c0ff01c0eee6d","/* require(\"./utils\"); */\r\n/* require(\"./pjax\"); */\r\n/* require(\"./scrollspy\");\r\nrequire(\"./loaded\")(); */\r\n\r\n$(function () {\r\n    /* var vConsole = new VConsole(); */\r\n    //下拉自动刷新\r\n    $(window).scroll(function () {\r\n        //下面这句主要是获取网页的总高度，主要是考虑兼容性所以把Ie支持的documentElement也写了，这个方法至少支持IE8\r\n        var htmlHeight = document.body.scrollHeight || document.documentElement.scrollHeight;\r\n        //clientHeight是网页在浏览器中的可视高度，\r\n        var clientHeight = $(this).height() + 100;\r\n        //scrollTop是浏览器滚动条的top位置，\r\n        var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n        //如果滚动条高度加上窗口可视高度大于网页高度\r\n\r\n        console.log(Math.round(scrollTop / (htmlHeight - clientHeight) * 100))\r\n\r\n        console.log(scrollTop, clientHeight, htmlHeight);\r\n        if (scrollTop + clientHeight > htmlHeight) {\r\n            APPX.LoadMore();\r\n        }\r\n    })\r\n})\r\n\r\nvar APPX = {\r\n    bgvideo: $(\"#bgvideo\"),\r\n    LoadMore() {\r\n        if (!!window.IndexConfig && !IndexConfig.loadMore && IndexConfig.current < IndexConfig.total) {\r\n            IndexConfig.loadMore = true;\r\n            $(\"#loader\").addClass('loading').removeClass('loaded')\r\n            $.ajax({\r\n                url: IndexConfig.url + 'page/' + (++IndexConfig.current),\r\n                success: function (res) {\r\n                    var result = $(res).find(\"article\");\r\n                    $(\"#posts\").append(result.fadeIn(5000))\r\n                },\r\n                error: function () {\r\n                    --IndexConfig.current;\r\n                },\r\n                complete: function () {\r\n                    IndexConfig.loadMore = false;\r\n                    $(\"#loader\").addClass('loaded').removeClass('loading')\r\n                }\r\n            })\r\n        }\r\n    },\r\n    SPlay() {\r\n        APPX.bgvideo[0].play();\r\n        $('.video-msg').css({\r\n            \"bottom\": \"-80px\"\r\n        })\r\n        $('#user-center').css({\r\n            \"top\": \"-300px\"\r\n        })\r\n    },\r\n    Spause() {\r\n        APPX.bgvideo[0].pause();\r\n        $('.video-msg').html('已暂停').css({\r\n            \"bottom\": \"0px\"\r\n        });\r\n        $('#user-center').css({\r\n            \"top\": \"30%\"\r\n        })\r\n    },\r\n    AddSource() {\r\n        $('.video-msg').html('正在载入视频 ...').css({\r\n            \"bottom\": \"0px\"\r\n        });\r\n        let t = IndexConfig.videoUrl, // 视频列表\r\n            _t = t[Math.floor(Math.random() * t.length)]; // 随机抽取视频\r\n        APPX.bgvideo.attr('src', _t);\r\n        APPX.bgvideo.attr('video-name', _t);\r\n    },\r\n    LoadVideo() {\r\n        $('#video-btn').on('click', function () {\r\n            if ($(this).hasClass('loadvideo')) {\r\n                $(this).removeClass('loadvideo').removeClass('cg-bofang').addClass('cg-zanting').hide();\r\n                APPX.AddSource();\r\n                APPX.bgvideo[0].oncanplay = function () { // 数据可用时\r\n                    $('#video-btn').show();\r\n                    APPX.SPlay();\r\n                }\r\n            } else {\r\n                if ($(this).hasClass('cg-zanting')) {\r\n                    APPX.Spause();\r\n                    $(this).removeClass('cg-zanting').addClass('cg-bofang');\r\n\r\n                } else {\r\n                    APPX.SPlay();\r\n                    $(this).removeClass('cg-bofang').addClass('cg-zanting');\r\n                }\r\n            }\r\n            APPX.bgvideo[0].onended = function () { // 播放结束后\r\n                APPX.bgvideo.attr('src','');\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n\r\nAPPX.LoadVideo()\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}